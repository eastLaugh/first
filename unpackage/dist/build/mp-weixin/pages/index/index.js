"use strict";const e=require("../../common/vendor.js"),t=require("../../src/send.js"),n={__name:"index",setup(n){function s(){t.bringUp((t=>{e.index.showToast({title:"已发送",duration:2e3}),e.index.request({url:"http://localhost:8080/api/send",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:t,success(t){e.index.startPullDownRefresh()},fail(){e.index.showToast({title:"出错了"})}})}))}const o=e.ref();return e.index.startPullDownRefresh(),e.onPullDownRefresh((()=>{e.index.request({url:"http://localhost:8080/api/getall",method:"GET",success(t){o.value=t.data,e.index.hideLoading(),e.index.stopPullDownRefresh()}}),e.index.showLoading()})),(t,n)=>({a:e.o(s),b:e.f(o.value,((t,n,s)=>({a:e.t(t.name?t.name:"[未留名]"),b:e.t(t.message),c:e.o((n=>{return s=t.id,void e.index.navigateTo({url:"/pages/post/post?post_id="+s});var s}))})))})}};wx.createPage(n);
